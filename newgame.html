<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For You ðŸ’—</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #ffb6c1, #ffd1dc);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #4a1f2c;
}

.card {
  width: 90%;
  max-width: 600px;
  background: rgba(255,255,255,0.5);
  backdrop-filter: blur(12px);
  padding: 40px;
  border-radius: 30px;
  text-align: center;
  box-shadow: 0 40px 90px rgba(0,0,0,0.25);
}

h2 {
  margin-bottom: 14px;
}

#scratchArea {
  position: relative;
  width: 100%;
  height: 120px;
  background: #ff4d6d;
  border-radius: 20px;
  margin-bottom: 28px;
  overflow: hidden;
  cursor: pointer;
}

#scratchText {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  color: white;
  pointer-events: none;
}

canvas {
  position: absolute;
  inset: 0;
}

.option {
  background: white;
  padding: 14px;
  border-radius: 16px;
  margin: 10px 0;
  cursor: pointer;
  transition: transform 0.2s ease, background 0.2s ease;
}

.option:hover {
  transform: scale(1.02);
}

.correct {
  background: #c1f0d6;
}

.wrong {
  background: #ffd6d6;
}

.feedback {
  margin-top: 16px;
  font-size: 0.95rem;
  min-height: 24px;
}
</style>
</head>

<body>

<div class="card">
  <h2 id="title">Scratch to reveal ðŸ’—</h2>

  <div id="scratchArea">
    <div id="scratchText">Scratch here ðŸ˜Œ</div>
    <canvas id="canvas"></canvas>
  </div>

  <div id="question" style="display:none;"></div>
  <div id="options"></div>
  <div class="feedback" id="feedback"></div>
</div>

<script>
const questions = [
{
q: "What was my first thought when I realized I liked you?",
options: [
"ABBE YAAARRR",
"Ye toh hona hi tha",
"I would be one lucky bitch if he likes me back",
"All of the above"
],
correct: 3
},
{
q: "Whatâ€™s my favorite thing about you when no one else is around?",
options: [
"The way you can laugh about anything",
"The fact that you turn into my little needy baby",
"How safe you make me feel",
"Your annoying voices and random accent switches"
],
correct: 1
},
{
q: "What do I get mad at you for but secretly find cute?",
options: [
"Random annoying bullshit",
"Secretly having me on FaceTime",
"When you talk about separate rooms",
"All of the above"
],
correct: 3
},
{
q: "What do I want more of with you?",
options: ["Time","Memories","Laughing till it hurts","A future"],
correct: 3
},
{
q: "When I say â€œIâ€™m fine,â€ what do I actually want?",
options: ["Attention","A hug","Reassurance","All of the above"],
correct: 3,
extra: "Fir dediya karo naaa! ðŸ˜¤ðŸ’—"
},
{
q: "Soâ€¦ what am I really asking you?",
options: [
"To be patient with me",
"To keep choosing me",
"To be my Valentine",
"All of the above"
],
correct: 3,
final: true
}
];

let index = 0;
let tries = 0;

/* SCRATCH SETUP */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const area = document.getElementById("scratchArea");

function setupCanvas() {
  canvas.width = area.offsetWidth;
  canvas.height = area.offsetHeight;
  ctx.fillStyle = "#ff4d6d";
  ctx.fillRect(0,0,canvas.width,canvas.height);
}

let scratching = false;
canvas.addEventListener("mousedown", () => scratching = true);
canvas.addEventListener("mouseup", () => scratching = false);
canvas.addEventListener("mousemove", e => {
  if (!scratching) return;
  ctx.globalCompositeOperation = "destination-out";
  ctx.beginPath();
  ctx.arc(e.offsetX, e.offsetY, 18, 0, Math.PI * 2);
  ctx.fill();
});

canvas.addEventListener("mouseleave", () => scratching = false);

setTimeout(revealQuestion, 1200);

function revealQuestion() {
  canvas.style.display = "none";
  document.getElementById("scratchText").style.display = "none";
  document.getElementById("question").style.display = "block";
  loadQuestion();
}

function loadQuestion() {
  tries = 0;
  document.getElementById("question").innerHTML = `<h2>${questions[index].q}</h2>`;
  const opts = document.getElementById("options");
  opts.innerHTML = "";
  document.getElementById("feedback").textContent = "";

  questions[index].options.forEach((opt,i)=>{
    const div = document.createElement("div");
    div.className = "option";
    div.textContent = opt;
    div.onclick = ()=>selectAnswer(div,i);
    opts.appendChild(div);
  });
}

function selectAnswer(el, i) {
  const correct = questions[index].correct;
  const feedback = document.getElementById("feedback");

  if (i === correct) {
    el.classList.add("correct");
    feedback.textContent = questions[index].extra || "Correct ðŸ˜ŒðŸ’—";

    setTimeout(()=>{
      if (questions[index].final) {
        window.location.href = "valentine.html";
      } else {
        index++;
        resetScratch();
      }
    }, 1200);

  } else {
    tries++;
    el.classList.add("wrong");

    if (tries === 1) {
      feedback.textContent = "Hmmâ€¦ try again ðŸ˜";
    } else {
      feedback.textContent = `Correct answer: ${questions[index].options[correct]} ðŸ˜Œ`;
      setTimeout(()=>{
        index++;
        resetScratch();
      }, 1400);
    }
  }
}

function resetScratch() {
  canvas.style.display = "block";
  setupCanvas();
  document.getElementById("scratchText").style.display = "flex";
  document.getElementById("question").style.display = "none";
  document.getElementById("options").innerHTML = "";
}

setupCanvas();
</script>

</body>
</html>
